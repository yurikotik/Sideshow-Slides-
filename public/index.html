<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé™ Slideshow Rob's Chaos Engine</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            animation: gradientShift 3s ease infinite;
            overflow: hidden;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .slide-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 80%;
            max-height: 80%;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .slide h1 {
            color: #ff6b6b;
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .slide p {
            font-size: 1.5em;
            color: #333;
            line-height: 1.6;
        }

        .banana-pointer {
            position: absolute;
            width: 60px;
            height: 60px;
            pointer-events: none;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 1001;
        }

        .btn {
            padding: 15px 25px;
            font-size: 1.2em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-chaos {
            background: #ff6b6b;
            color: white;
        }

        .btn-chaos:hover {
            background: #ff5252;
            transform: scale(1.1) rotate(5deg);
        }

        .btn-next {
            background: #4ecdc4;
            color: white;
        }

        .btn-next:hover {
            background: #26a69a;
            transform: scale(1.1);
        }

        .rob-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 15px;
            border-radius: 15px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .chaos-mode {
            animation: shake 0.5s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-1deg); }
            75% { transform: translateX(5px) rotate(1deg); }
        }
    </style>
</head>
<body>
    <div class="slide-container">
        <div class="slide" id="currentSlide">
            <h1>üé™ Welcome to Rob's Fiscal Circus!</h1>
            <p>Prepare for chaotic market insights with explosive transitions and banana-powered analytics!</p>
        </div>
        <img src="banana-pointer.svg" class="banana-pointer" id="bananaPointer" alt="Banana Pointer">
    </div>

    <div class="controls">
        <button class="btn btn-chaos" onclick="activateChaos()">üå™Ô∏è CHAOS MODE</button>
        <button class="btn btn-next" onclick="nextSlide()">‚û°Ô∏è Next Slide</button>
    </div>

    <div class="rob-status" id="robStatus">
        Rob Status: üòé Confident
    </div>

    <script src="../src/rob.js"></script>
    <script src="../src/chaosEngine.js"></script>
    <script src="../src/voiceSynth.js"></script>
    <script>
        // Initialize Rob's Chaos Engine
        let currentSlideIndex = 0;
        let chaosMode = false;
        let slides = [];

        // Load slide data
        fetch('rob-slides.json')
            .then(response => response.json())
            .then(data => {
                slides = data.slides;
                displaySlide(0);
            })
            .catch(error => {
                console.error('Error loading slides:', error);
                // Fallback slide
                slides = [{
                    title: "üö® Slide Loading Error!",
                    content: "Rob's chaos engine encountered a fiscal anomaly!"
                }];
                displaySlide(0);
            });

        function displaySlide(index) {
            if (slides.length === 0) return;
            
            const slide = slides[index];
            const slideElement = document.getElementById('currentSlide');
            
            slideElement.innerHTML = `
                <h1>${slide.title}</h1>
                <p>${slide.content}</p>
            `;

            // Animate banana pointer
            animateBananaPointer();
            
            // Update Rob's status
            updateRobStatus(slide.robMood || 'confident');
        }

        function nextSlide() {
            currentSlideIndex = (currentSlideIndex + 1) % slides.length;
            displaySlide(currentSlideIndex);
            
            if (chaosMode) {
                triggerChaosTransition();
            }
        }

        function activateChaos() {
            chaosMode = !chaosMode;
            const body = document.body;
            const btn = document.querySelector('.btn-chaos');
            
            if (chaosMode) {
                body.classList.add('chaos-mode');
                btn.textContent = 'üî• STOP CHAOS';
                updateRobStatus('panicking');
                startChaosEngine();
            } else {
                body.classList.remove('chaos-mode');
                btn.textContent = 'üå™Ô∏è CHAOS MODE';
                updateRobStatus('confident');
                stopChaosEngine();
            }
        }

        function animateBananaPointer() {
            const pointer = document.getElementById('bananaPointer');
            const randomX = Math.random() * (window.innerWidth - 60);
            const randomY = Math.random() * (window.innerHeight - 60);
            
            pointer.style.left = randomX + 'px';
            pointer.style.top = randomY + 'px';
            pointer.style.transform = `rotate(${Math.random() * 360}deg)`;
        }

        function updateRobStatus(mood) {
            const statusElement = document.getElementById('robStatus');
            const moods = {
                confident: 'üòé Confident',
                panicking: 'üò± Panicking',
                confused: 'ü§î Confused',
                excited: 'ü§© Excited'
            };
            
            statusElement.textContent = `Rob Status: ${moods[mood] || moods.confident}`;
        }

        // Initialize banana pointer animation
        setInterval(animateBananaPointer, 2000);
    </script>
</body>
</html>